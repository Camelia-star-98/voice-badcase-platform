# Badcase上传功能使用说明

## 📋 功能概述

在Badcase列表页面新增了**新建Badcase**上传入口，支持快速创建和上传新的Badcase记录，包括音频文件上传功能。

## 🎯 功能位置

在 **Badcase列表** 页面的顶部筛选栏右侧，有一个醒目的紫色渐变按钮：

```
🔍 搜索栏 | 筛选器...  [新建Badcase] ← 点击这里
```

## ✨ 功能特点

### 1. 完整的表单字段
- **问题模型ID** - 输入出现问题的模型标识（必填）
- **问题分类** - 从预设分类中选择（必填）
  - 语音识别错误
  - 语音合成问题
  - 音质问题
  - 语速问题
  - 其他（选择后需填写具体分类内容）
- **严重程度** - 选择问题严重级别（必填）
  - 🔴 高
  - 🟠 中
  - 🟢 低
- **问题描述** - 详细描述问题（必填，至少10个字符）
- **音频文件** - 上传相关音频文件（可选）

### 2. 音频文件上传
- ✅ 支持格式：MP3、WAV、AAC等所有音频格式
- ✅ 文件大小限制：最大10MB
- ✅ 单文件上传：一次只能上传一个音频文件
- ✅ 实时预览：上传后可以看到文件名和大小
- ✅ 可重新选择：支持替换已选择的文件

### 3. 表单验证
- 📝 必填字段验证
- 📏 描述长度验证（最少10字符，最多500字符）
- 🎵 音频文件格式和大小验证
- ⚠️ 友好的错误提示

### 4. 自动功能
- 🆔 自动生成唯一ID（格式：BC0001, BC0002...）
- 📅 自动记录提交日期（当前日期）
- ⏰ 自动记录创建时间和更新时间
- 🏷️ 新建的Badcase默认状态为"待处理"
- 🔝 新记录自动显示在列表顶部

## 📖 使用步骤

### 步骤1：打开上传表单
1. 进入 **Badcase列表** 页面
2. 点击右上角的 **"新建Badcase"** 按钮
3. 弹出上传表单对话框

### 步骤2：填写基本信息
1. **填写问题模型ID**：输入出现问题的模型标识（必填）
   - 只能包含字母、数字、下划线和连字符
   - 例如：`model_001`、`voice-model-v2`、`tts_engine_001`
   - 最多50个字符
2. **选择分类**：从下拉菜单中选择问题类型
   - 如果选择**"其他"**，会出现一个输入框
   - 在输入框中填写具体的分类内容（2-20个字符）
   - 例如：选择"其他" → 填写"延迟问题"，最终保存为"其他-延迟问题"
3. **选择严重程度**：选择高/中/低
4. **填写描述**：详细描述遇到的问题（至少10个字符）
5. **提交日期**：系统会自动记录当前日期作为提交日期

### 步骤3：上传音频文件（可选）
1. 点击 **"上传音频文件（可选）"** 按钮
2. 从本地选择音频文件
3. 确认文件信息正确
4. 如需更换，点击 **"重新选择音频文件"**

### 步骤4：提交
1. 检查所有信息是否正确
2. 点击 **"提交"** 按钮
3. 等待成功提示
4. 新记录将出现在列表顶部

### 步骤5：取消操作
- 如果不想提交，点击 **"取消"** 按钮
- 或点击对话框外部区域关闭

## 💡 使用示例

### 示例1：上传带音频的Badcase

```
问题模型ID：voice-model-v2
分类：语音识别错误
严重程度：高
描述：在嘈杂环境下，语音识别准确率明显下降，多次识别错误
音频：recording_001.mp3 (2.5MB)
提交日期：2024-12-17（自动记录）
```

### 示例2：上传不带音频的Badcase

```
问题模型ID：tts_engine_001
分类：音质问题
严重程度：中
描述：合成语音在高频部分出现失真，影响听感体验
音频：（未上传）
提交日期：2024-12-17（自动记录）
```

### 示例3：使用"其他"分类

```
问题模型ID：model_test_001
分类：其他 → 填写"延迟问题"（保存为"其他-延迟问题"）
严重程度：高
描述：用户点击语音按钮后，延迟超过5秒才开始播放，严重影响用户体验
音频：delay_test.mp3 (1.8MB)
提交日期：2024-12-17（自动记录）
```

## ⚠️ 注意事项

1. **必填字段**
   - 问题模型ID、分类、严重程度、问题描述为必填项
   - 音频文件为可选项
   - 提交日期由系统自动记录（当前日期）

2. **问题模型ID要求**
   - 只能包含字母、数字、下划线(_)和连字符(-)
   - 最多50个字符
   - 例如：`model_001`、`voice-model-v2`、`tts_engine_001`

3. **音频文件要求**
   - 只能上传音频格式文件
   - 文件大小不超过10MB
   - 一次只能上传一个文件

4. **描述要求**
   - 最少10个字符
   - 最多500个字符
   - 建议详细描述问题现象和复现步骤

5. **"其他"分类说明**
   - 选择"其他"后必须填写具体分类内容
   - 分类内容长度：2-20个字符
   - 最终保存格式："其他-具体内容"
   - 例如："其他-延迟问题"、"其他-兼容性问题"

6. **数据保存**
   - 当前为前端模拟数据
   - 刷新页面后新建的数据会丢失
   - 后续需要对接后端API实现持久化存储

## 🎨 界面特色

- 🌈 **渐变按钮**：紫色渐变设计，醒目易找
- 💫 **悬停效果**：鼠标悬停时按钮会上浮并增强阴影
- 📱 **响应式布局**：适配不同屏幕尺寸
- ✨ **动画效果**：流畅的打开和关闭动画
- 🎯 **清晰标识**：使用云上传图标，直观明了

## 🔄 后续优化建议

1. **后端集成**
   - 对接后端API实现真实的数据保存
   - 实现音频文件上传到服务器
   - 添加文件上传进度显示

2. **功能增强**
   - 支持批量上传
   - 支持拖拽上传音频文件
   - 添加音频预览播放功能
   - 支持更多文件格式

3. **用户体验**
   - 添加表单草稿保存功能
   - 支持快捷键操作
   - 添加上传历史记录

## 📞 技术支持

如有问题或建议，请联系开发团队。

---

**版本**: v1.1  
**更新日期**: 2024-12-17  
**状态**: ✅ 已完成并测试  
**更新内容**: 将日期选择改为问题模型ID输入，提交日期自动记录

