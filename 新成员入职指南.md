# 🎉 欢迎加入 Voice Badcase Platform 项目！

恭喜你成为本项目的协作者！这份指南将帮助你快速上手。

---

## 📋 入职清单（完成每项后打✅）

### 第一步：接受 GitHub 邀请
- [ ] 检查 GitHub 注册邮箱，找到仓库邀请邮件
- [ ] 点击邮件中的 **Accept invitation** 按钮
- [ ] 或直接访问：https://github.com/Camelia-star-98/voice-badcase-platform

### 第二步：克隆项目到本地
```bash
# 1. 克隆仓库
git clone https://github.com/Camelia-star-98/voice-badcase-platform.git

# 2. 进入项目目录
cd voice-badcase-platform

# 3. 查看项目结构
ls -la
```

### 第三步：安装依赖
```bash
# 安装 Node.js 依赖（需要 Node.js 16+）
npm install

# 如果安装慢，可以使用国内镜像
npm install --registry=https://registry.npmmirror.com
```

### 第四步：配置环境变量
- [ ] **向项目负责人索取配置信息**（包含 Supabase 密钥等敏感信息）
- [ ] 创建 `.env.local` 文件：
```bash
cp .env.example .env.local
```
- [ ] 将收到的配置信息填入 `.env.local`

**示例配置**：
```env
VITE_SUPABASE_URL=https://xxxxx.supabase.co
VITE_SUPABASE_ANON_KEY=eyJhbGciOi...
DINGTALK_SECRET=SECxxxxxx  # 可选
```

### 第五步：启动开发服务器
```bash
# 启动本地开发服务器
npm run dev
```

- [ ] 访问 http://localhost:5173
- [ ] 确认页面正常显示
- [ ] 测试基本功能（查看数据、筛选等）

### 第六步：配置 Git 用户信息
```bash
# 设置你的 Git 用户名和邮箱（首次使用需要）
git config --global user.name "你的名字"
git config --global user.email "你的邮箱@example.com"
```

### 第七步：阅读协作文档
- [ ] 📘 [README.md](./README.md) - 项目介绍
- [ ] 🤝 [CONTRIBUTING.md](./CONTRIBUTING.md) - **必读！** 团队协作规范
- [ ] 🔒 [如何控制代码合并.md](./如何控制代码合并.md) - 理解 PR 审查流程
- [ ] 📊 [SUPABASE_SETUP.md](./SUPABASE_SETUP.md) - 数据库配置（可选）

---

## 🔥 重要提醒

### ⚠️ 代码提交规范

**❌ 不能直接推送到 main 分支！**

项目已启用分支保护，必须通过 Pull Request 流程：

```bash
# ❌ 错误做法（会被拒绝）
git checkout main
git add .
git commit -m "update"
git push origin main  # 报错：Protected branch update failed

# ✅ 正确做法
git checkout -b feature/my-feature  # 创建功能分支
git add .
git commit -m "feat: 添加新功能"
git push origin feature/my-feature  # 推送到功能分支
# 然后在 GitHub 上创建 Pull Request
```

### 📝 提交信息规范

使用语义化提交格式：

```bash
feat: 添加新功能           # 新功能
fix: 修复某个 bug         # 修复问题
docs: 更新文档            # 文档变更
style: 代码格式调整        # 不影响功能的格式修改
refactor: 重构某模块       # 重构代码
test: 添加测试            # 测试相关
chore: 构建/工具链配置     # 其他杂项
```

**示例**：
```bash
git commit -m "feat: 添加批量删除功能"
git commit -m "fix: 修复日期选择器显示问题"
git commit -m "docs: 更新 README 部署说明"
```

---

## 🚀 标准工作流程

### 1️⃣ 开始新任务

```bash
# 确保在 main 分支
git checkout main

# 拉取最新代码
git pull origin main

# 创建功能分支（命名规范：feature/功能名 或 fix/问题名）
git checkout -b feature/add-search-filter
```

### 2️⃣ 开发和提交

```bash
# 开发你的功能...
# 修改代码...

# 查看修改的文件
git status

# 添加要提交的文件
git add .

# 提交（使用语义化提交信息）
git commit -m "feat: 添加高级搜索筛选功能"

# 推送到你的功能分支
git push origin feature/add-search-filter
```

### 3️⃣ 创建 Pull Request

1. 推送后，访问仓库页面：  
   https://github.com/Camelia-star-98/voice-badcase-platform

2. 会看到黄色提示框：  
   **Compare & pull request** 按钮

3. 点击后填写 PR 信息：
   - **标题**：简洁描述你的改动
   - **描述**：详细说明做了什么、为什么、如何测试
   
4. 点击 **Create pull request**

5. **等待项目负责人审查**
   - 负责人可能会提出修改意见
   - 根据反馈修改代码
   - 再次提交会自动更新 PR

6. **审查通过后合并**
   - 负责人批准后会合并到 main
   - 你的分支会被自动或手动删除

### 4️⃣ 合并后更新本地

```bash
# 切回 main 分支
git checkout main

# 拉取最新代码（包含你的改动）
git pull origin main

# 删除已合并的本地分支
git branch -d feature/add-search-filter
```

---

## 🛠️ 常见问题

### Q1: 推送到 main 被拒绝怎么办？
**A**: 这是正常的！请创建功能分支，然后通过 PR 流程提交。

### Q2: 如何同步其他人的最新代码？
**A**: 
```bash
git checkout main
git pull origin main
```

### Q3: 如何在开发中途同步 main 的更新？
**A**: 
```bash
# 在你的功能分支上
git fetch origin
git rebase origin/main
```

### Q4: 提交错了怎么办？
**A**: 
```bash
# 撤销最后一次提交（保留改动）
git reset --soft HEAD~1

# 重新提交
git add .
git commit -m "正确的提交信息"
```

### Q5: 忘记创建功能分支，在 main 上改了怎么办？
**A**: 
```bash
# 创建新分支（会把当前改动带过去）
git checkout -b feature/my-feature

# 推送
git push origin feature/my-feature
```

### Q6: 启动项目报错怎么办？
**A**: 
1. 检查 Node.js 版本（需要 16+）：`node -v`
2. 删除 `node_modules` 和 `package-lock.json`，重新安装：
   ```bash
   rm -rf node_modules package-lock.json
   npm install
   ```
3. 检查 `.env.local` 配置是否正确
4. 联系项目负责人

### Q7: 如何查看项目已有的分支？
**A**: 
```bash
# 查看本地分支
git branch

# 查看所有分支（包括远程）
git branch -a
```

---

## 📚 项目技术栈

- **前端框架**: React 18 + TypeScript
- **UI 组件库**: Ant Design 5
- **路由**: React Router v6
- **构建工具**: Vite
- **数据库**: Supabase (PostgreSQL)
- **版本控制**: Git + GitHub

---

## 🎯 第一个任务建议

完成入职配置后，建议先做一个小任务熟悉流程：

### 练习任务：添加你的名字到贡献者列表

1. 创建分支：
```bash
git checkout -b docs/add-contributor-yourname
```

2. 编辑 `README.md`，在文件末尾添加：
```markdown
## 👥 贡献者

- [@你的GitHub用户名](https://github.com/你的用户名) - 你的角色/职责
```

3. 提交：
```bash
git add README.md
git commit -m "docs: 添加贡献者信息"
git push origin docs/add-contributor-yourname
```

4. 在 GitHub 创建 Pull Request

5. 等待审查和合并

✅ **完成这个任务后，你就掌握了完整的协作流程！**

---

## 📞 需要帮助？

- 💬 技术问题：向项目负责人或团队成员提问
- 🐛 发现 Bug：创建 GitHub Issue
- 💡 功能建议：创建 GitHub Issue 或在团队讨论
- 📖 查看文档：项目根目录的 Markdown 文件

---

## 🎉 开始愉快的协作吧！

记住三个核心原则：
1. **不直接推送 main** - 总是使用功能分支
2. **提交信息规范** - 使用语义化格式
3. **及时同步代码** - 开始工作前 `git pull origin main`

祝你在项目中有愉快的开发体验！🚀

