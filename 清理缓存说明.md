# 清理浏览器缓存说明

## 为什么需要清理缓存？

项目使用 localStorage 保存 badcase 数据，旧的 mock 数据包含无效的音频 URL（`/audio/sample-*.mp3`），需要清理后重新加载新的数据。

## 🔧 方法 1：使用浏览器开发者工具（推荐）

### Chrome / Edge / Brave:
1. 打开网站 http://localhost:3003/
2. 按 `F12` 打开开发者工具
3. 切换到 **Console** 标签页
4. 输入以下命令并回车：

```javascript
localStorage.clear()
location.reload()
```

### Firefox:
1. 打开网站 http://localhost:3003/
2. 按 `F12` 打开开发者工具
3. 切换到 **Console** 标签页
4. 输入以下命令并回车：

```javascript
localStorage.clear()
location.reload()
```

### Safari:
1. 开启开发者菜单：Safari → 偏好设置 → 高级 → 在菜单栏中显示"开发"菜单
2. 打开网站 http://localhost:3003/
3. 按 `Option + Command + C` 打开控制台
4. 输入以下命令并回车：

```javascript
localStorage.clear()
location.reload()
```

---

## 🔧 方法 2：手动删除 localStorage

### Chrome / Edge / Brave:
1. 按 `F12` 打开开发者工具
2. 切换到 **Application** 标签页
3. 左侧找到 **Storage** → **Local Storage**
4. 点击 `http://localhost:3003`
5. 右键点击 `badcaseList` → **Delete**
6. 刷新页面 (`F5` 或 `Ctrl+R` / `Cmd+R`)

### Firefox:
1. 按 `F12` 打开开发者工具
2. 切换到 **Storage** 标签页
3. 展开 **Local Storage**
4. 点击 `http://localhost:3003`
5. 右键点击 `badcaseList` → **删除项**
6. 刷新页面

---

## ✅ 验证是否成功

清理缓存并刷新后，控制台应该：
- ✅ 不再显示 "音频加载错误" （或者只显示一次，然后自动加载新的有效 URL）
- ✅ 点击"播放音频"按钮，能正常播放音频（使用测试音频文件）

---

## 📋 已修复的问题

### 1. Mock 数据中的音频 URL
**之前：** `/audio/sample-1.mp3` （不存在的本地文件）  
**现在：** 使用公共测试音频 URL

### 2. 错误提示优化
**之前：** "音频文件加载失败"（信息不明确）  
**现在：** 
- "音频文件不存在或无法访问"（404错误）
- "音频文件加载失败，请检查文件格式或网络连接"（其他错误）

---

## 🎯 下次如何避免？

在生产环境中：
1. 使用真实的音频文件 URL（CDN 或服务器地址）
2. 实现音频上传功能，将音频保存到服务器
3. 添加音频文件存在性检查
4. 提供音频预览和错误回退

---

**操作完成后，请重新测试音频播放功能！** 🎵

