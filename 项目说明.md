# 语音Badcase流转平台 - 项目说明

## 📌 项目概述

这是一个**全新的独立项目**，完全隔离于其他项目，专门用于管理和跟踪语音识别中的问题（badcase）。

项目模仿了飞书多维表格的界面风格，提供了友好、直观的数据管理体验。

## 🎯 核心功能

### 1. 数据管理
- ✅ 新建、编辑badcase记录
- ✅ 支持12个字段的详细信息
- ✅ 数据持久化存储（PostgreSQL）

### 2. 音频功能
- ✅ 在线播放音频文件
- ✅ 支持多种音频格式
- ✅ 音频URL管理

### 3. 搜索与过滤
- ✅ 全文搜索
- ✅ 状态筛选（5种状态）
- ✅ 优先级筛选（4个等级）
- ✅ 日期范围查询

### 4. 界面特性
- ✅ 彩色优先级标签（P00/P0/P1/P2）
- ✅ 状态标签（修复中/待确认/已上线并验证/已关闭/停顿）
- ✅ 响应式布局
- ✅ 现代化设计

## 📁 项目结构

```
voice-badcase-platform/
│
├── 📋 配置文件
│   ├── package.json              # 项目配置
│   ├── tsconfig.json             # TypeScript配置
│   ├── vite.config.ts            # Vite配置
│   └── .gitignore               # Git忽略文件
│
├── 🎨 前端代码
│   ├── index.html               # HTML入口
│   └── src/
│       ├── main.tsx             # 应用入口
│       ├── App.tsx              # 根组件
│       ├── App.css              # 样式
│       ├── components/
│       │   └── BadcaseTable.tsx # 数据表格组件
│       └── services/
│           └── api.ts           # API服务
│
├── 🔧 后端代码
│   └── server/
│       ├── index.js             # Express服务器
│       └── mock-data.js         # 测试数据
│
├── 📦 上传目录
│   └── uploads/                 # 音频文件存储
│
└── 📖 文档
    ├── README.md                # 项目说明
    ├── 启动说明.md               # 启动指南
    ├── 操作指南.md               # 用户手册
    ├── QUICK_START.md           # 快速开始
    ├── PROJECT_SUMMARY.md       # 项目总结
    ├── DEPLOYMENT.md            # 部署指南
    ├── 项目说明.md               # 本文件
    └── start.sh                 # 启动脚本
```

## 🚀 快速启动

### 最简单的方式

```bash
# 1. 进入目录
cd /Users/ailian/Downloads/voice-badcase-platform

# 2. 安装依赖
npm install

# 3. 创建数据库
createdb voice_badcase

# 4. 修改数据库配置（server/index.js）

# 5. 启动服务
./start.sh

# 6. 访问应用
# http://localhost:5173
```

详细步骤请查看 **[QUICK_START.md](./QUICK_START.md)**

## 📚 文档导航

选择适合您的文档：

| 文档 | 适用对象 | 内容 |
|------|----------|------|
| **QUICK_START.md** | 首次使用 | 5分钟快速启动 |
| **启动说明.md** | 开发人员 | 详细启动步骤 |
| **操作指南.md** | 使用人员 | 功能操作说明 |
| **README.md** | 所有人 | 完整项目说明 |
| **PROJECT_SUMMARY.md** | 技术人员 | 架构和技术细节 |
| **DEPLOYMENT.md** | 运维人员 | 生产部署指南 |

## 🛠️ 技术栈

### 前端
- **React 18** - UI框架
- **TypeScript** - 类型系统
- **Ant Design 5** - UI组件库
- **Vite** - 构建工具
- **Axios** - HTTP客户端
- **Day.js** - 日期处理

### 后端
- **Node.js** - 运行时
- **Express** - Web框架
- **PostgreSQL** - 数据库
- **Multer** - 文件上传

## 📊 数据字段

| 字段 | 类型 | 必填 | 说明 |
|------|------|------|------|
| 序号 | 数字 | 自动 | 自增主键 |
| 问题文本 | 文本 | ✅ | 问题的文本内容 |
| 问题音频 | URL | - | 音频文件地址 |
| 问题描述 | 文本 | ✅ | 简短描述 |
| 问题体描述 | 文本 | - | 详细说明 |
| 修复优先级 | 选项 | ✅ | P00/P0/P1/P2 |
| 反馈来源 | 文本 | - | 来源渠道 |
| 反馈日期 | 日期 | - | 反馈时间 |
| 反馈人 | 文本 | - | 反馈者 |
| 创建人 | 文本 | - | 创建者 |
| 问题状态 | 选项 | ✅ | 5种状态 |

## 🎨 界面预览

### 优先级颜色

- 🔴 **P00** - 红色 (#ff4d4f) - 最高优先级
- 🟠 **P0** - 橙色 (#ff7a45) - 高优先级
- 🟡 **P1** - 黄色 (#ffa940) - 中优先级
- 🟢 **P2** - 绿色 (#52c41a) - 低优先级

### 状态颜色

- 🟡 **修复中** - 黄色 - 正在处理
- 🔵 **待确认** - 蓝色 - 等待确认
- 🟢 **已上线并验证** - 绿色 - 已完成
- ⚫ **已关闭** - 灰色 - 已关闭
- ⚪ **停顿** - 浅灰 - 暂停

## 🔌 API接口

```
GET    /api/badcases          # 获取列表
GET    /api/badcases/:id      # 获取详情
POST   /api/badcases          # 创建记录
PUT    /api/badcases/:id      # 更新记录
DELETE /api/badcases/:id      # 删除记录
POST   /api/upload-audio      # 上传音频
```

## 💡 使用场景

### 场景1：测试团队使用
测试人员发现问题 → 创建badcase → 开发人员修复 → 更新状态 → 验证通过

### 场景2：质量跟踪
定期查看问题分布 → 分析高优先级问题 → 制定改进计划 → 跟踪处理进度

### 场景3：数据分析
导出历史数据 → 分析问题趋势 → 识别高频问题 → 优化模型

## 🎯 后续扩展

### 短期（1-2周）
- [ ] 用户登录认证
- [ ] 数据导出（Excel/CSV）
- [ ] 批量操作
- [ ] 音频上传界面

### 中期（1-2月）
- [ ] 评论系统
- [ ] 操作日志
- [ ] 数据统计图表
- [ ] 通知提醒

### 长期（3-6月）
- [ ] 工作流引擎
- [ ] 移动端适配
- [ ] AI智能分析
- [ ] API开放平台

## ⚙️ 配置说明

### 数据库配置

编辑 `server/index.js` 第18-24行：

```javascript
const pool = new Pool({
  user: 'postgres',           // 数据库用户名
  host: 'localhost',          // 数据库地址
  database: 'voice_badcase',  // 数据库名称
  password: 'your_password',  // 数据库密码
  port: 5432,                 // 数据库端口
})
```

### 端口配置

- **前端端口**：`vite.config.ts` → `server.port`
- **后端端口**：`server/index.js` → `const port`

## 🔒 安全说明

- ✅ SQL注入防护（参数化查询）
- ✅ 文件上传类型限制
- ✅ 文件大小限制（50MB）
- ⚠️ 未实现用户认证（后续版本）
- ⚠️ 未实现访问控制（后续版本）

## 📝 开发规范

详见 `.cursorrules` 文件

- 代码风格：Airbnb
- 命名规范：camelCase/PascalCase/snake_case
- Git提交：feat/fix/docs/style/refactor/test/chore
- TypeScript：严格模式

## 🐛 问题排查

### 常见问题

1. **数据库连接失败**
   - 检查PostgreSQL是否启动
   - 验证连接配置

2. **端口被占用**
   - 修改端口配置
   - 杀死占用进程

3. **依赖安装失败**
   - 清除npm缓存
   - 使用国内镜像

4. **前端页面空白**
   - 检查控制台错误
   - 确认后端已启动

## 📞 技术支持

如遇到问题：

1. 查看文档：README.md / QUICK_START.md
2. 检查日志：浏览器控制台 / 终端输出
3. 提交Issue：描述问题 + 错误信息 + 操作步骤

## 📄 许可证

MIT License

---

## ✨ 特别说明

### 为什么选择这个技术栈？

1. **React + TypeScript** - 类型安全，开发体验好
2. **Ant Design** - 开箱即用，组件丰富
3. **PostgreSQL** - 功能强大，稳定可靠
4. **Express** - 简单易用，社区活跃

### 项目亮点

- 📦 **开箱即用** - 克隆即可运行
- 🎨 **界面美观** - 模仿飞书多维表格
- 🚀 **性能优秀** - Vite构建，快速响应
- 📖 **文档完善** - 多个文档覆盖不同场景
- 🔧 **易于扩展** - 架构清晰，模块化设计

### 与原项目的关系

- ✅ **完全独立** - 独立的代码仓库
- ✅ **不依赖** - 不依赖其他项目
- ✅ **可部署** - 可独立部署运行
- ✅ **可定制** - 可根据需求定制

---

**开始使用：[QUICK_START.md](./QUICK_START.md)**

**项目主页：当前目录**

**最后更新：2025-12-17**

